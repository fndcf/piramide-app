<!-- src/app/features/admin/challenge-config/challenge-config.component.html -->
<div class="challenge-config">
  <div class="config-header">
    <h2>‚öôÔ∏è Configura√ß√£o de Desafios</h2>
    <p class="config-description">
      Configure os tempos limites e regras para o sistema de desafios
    </p>
  </div>

  <form [formGroup]="configForm" (ngSubmit)="onSubmit()" class="config-form">
    
    <!-- ‚úÖ SE√á√ÉO DE PRAZOS -->
    <div class="config-section">
      <h3>‚è∞ Prazos</h3>
      <p class="section-description">
        Defina os tempos limite para cada etapa do processo de desafio
      </p>

      <div class="form-row">
        <div class="form-group">
          <app-input
            formControlName="responseTimeHours"
            label="Tempo para Aceitar/Recusar (horas)"
            type="number"
            placeholder="24"
            [error]="getErrorMessage('responseTimeHours')">
          </app-input>
          <small class="field-help">
            Tempo que a dupla desafiada tem para responder
            <span *ngIf="responseTimeHours?.value !== null">({{ formatTimeDisplay(responseTimeHours?.value || 24) }})</span>
          </small>
        </div>

        <div class="form-group">
          <app-input
            formControlName="datesTimeHours"
            label="Tempo para Propor Datas (horas)"
            type="number"
            placeholder="24"
            [error]="getErrorMessage('datesTimeHours')">
          </app-input>
          <small class="field-help">
            Tempo para enviar as datas propostas ap√≥s aceitar
            <span *ngIf="datesTimeHours?.value !== null">({{ formatTimeDisplay(datesTimeHours?.value || 24) }})</span>
          </small>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <app-input
            formControlName="finalTimeHours"
            label="Tempo para Decis√µes Finais (horas)"
            type="number"
            placeholder="24"
            [error]="getErrorMessage('finalTimeHours')">
          </app-input>
          <small class="field-help">
            Tempo para escolher datas e responder contrapropostas
            <span *ngIf="finalTimeHours?.value !== null">({{ formatTimeDisplay(finalTimeHours?.value || 24) }})</span>
          </small>
        </div>
      </div>
    </div>

    <!-- ‚úÖ SE√á√ÉO DE REGRAS -->
    <div class="config-section">
      <h3>üìã Regras</h3>
      <p class="section-description">
        Configure as regras para propostas de datas e desafios
      </p>

      <div class="form-row">
        <div class="form-group">
          <app-input
            formControlName="minProposedDates"
            label="M√≠nimo de Datas a Propor"
            type="number"
            placeholder="3"
            [error]="getErrorMessage('minProposedDates')">
          </app-input>
          <small class="field-help">
            N√∫mero m√≠nimo de datas que devem ser propostas
          </small>
        </div>
      </div>

      <div class="form-row">
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              formControlName="requireWeekendDate"
              class="checkbox-input">
            <span class="checkbox-text">
              Exigir pelo menos uma data no final de semana
            </span>
          </label>
          <small class="field-help">
            Se ativado, pelo menos uma das datas propostas deve ser s√°bado ou domingo
          </small>
        </div>
      </div>
    </div>

    <!-- ‚úÖ MENSAGENS -->
    <div class="form-messages">
      <div class="success-message" *ngIf="successMessage">
        ‚úÖ {{ successMessage }}
      </div>
      
      <div class="error-message" *ngIf="errorMessage">
        ‚ùå {{ errorMessage }}
      </div>
    </div>

    <!-- ‚úÖ A√á√ïES -->
    <div class="form-actions">
      <app-button
        type="submit"
        variant="primary"
        [disabled]="configForm.invalid"
        [loading]="isLoading">
        Salvar Configura√ß√£o
      </app-button>
      
      <app-button
        type="button"
        variant="outline"
        (click)="onReset()"
        [disabled]="isLoading">
        Cancelar
      </app-button>
    </div>
  </form>

  <!-- ‚úÖ INFORMA√á√ïES ADICIONAIS -->
  <div class="config-info">
    <div class="info-card">
      <h4>üí° Dicas de Configura√ß√£o</h4>
      <ul>
        <li><strong>Prazos curtos</strong> (6-12h) tornam os desafios mais din√¢micos</li>
        <li><strong>Prazos longos</strong> (48-72h) d√£o mais flexibilidade √†s duplas</li>
        <li><strong>Final de semana obrigat√≥rio</strong> facilita a participa√ß√£o de todos</li>
        <li><strong>M√≠nimo de 3 datas</strong> oferece mais op√ß√µes de agendamento</li>
      </ul>
    </div>

    <div class="info-card">
      <h4>‚ö†Ô∏è Importantes</h4>
      <ul>
        <li>Mudan√ßas afetam apenas <strong>novos desafios</strong></li>
        <li>Desafios em andamento mant√™m a configura√ß√£o original</li>
        <li>Prazos expirados resultam em <strong>troca autom√°tica</strong> de posi√ß√µes</li>
        <li>Sistema verifica expira√ß√µes <strong>a cada 5 minutos</strong></li>
      </ul>
    </div>
  </div>
</div>